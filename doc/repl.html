<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.2">
    <meta name="project" content="reckon_gater v1.0.2">


    <title>Interactive REPL — reckon_gater v1.0.2</title>

    <link rel="stylesheet" href="dist/html-erlang-DQDXQC7W.css" />

    <script defer src="dist/sidebar_items-E4B77EC4.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="readme.html" class="sidebar-projectName" translate="no">
reckon_gater
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v1.0.2
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of reckon_gater</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Interactive REPL</h1>


      <a href="https://github.com/reckon-db-org/reckon-gater/blob/v1.0.2/guides/repl.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<p>The reckon-gater REPL (Read-Eval-Print-Loop) provides an interactive shell for exploring event stores, streams, causation chains, and temporal queries. It's designed for developers to quickly inspect and debug event-sourced systems without writing code.</p><p><img src="../assets/repl_architecture.svg" alt="REPL Architecture"/></p><h2 id="overview" class="section-heading"><a href="#overview" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Overview</span></h2><p>The REPL provides a stateful session that maintains context about:</p><ul><li><strong>Current store</strong> - Which event store you're connected to</li><li><strong>Current stream</strong> - Which event stream is selected for operations</li></ul><p>This context-aware design means you don't need to specify the store and stream for every command once they're selected.</p><h2 id="quick-start" class="section-heading"><a href="#quick-start" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Quick Start</span></h2><p>Start the REPL from an Erlang shell:</p><pre><code class="makeup erlang" translate="no"><span class="c1">%% Start without a store selected</span><span class="w">
</span><span class="nc">esdb_gater_repl</span><span class="p">:</span><span class="nf">start</span><span class="p" data-group-id="2358447453-1">(</span><span class="p" data-group-id="2358447453-1">)</span><span class="p">.</span><span class="w">

</span><span class="c1">%% Start with a store pre-selected</span><span class="w">
</span><span class="nc">esdb_gater_repl</span><span class="p">:</span><span class="nf">start</span><span class="p" data-group-id="2358447453-2">(</span><span class="ss">my_store</span><span class="p" data-group-id="2358447453-2">)</span><span class="p">.</span></code></pre><h2 id="command-reference" class="section-heading"><a href="#command-reference" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Command Reference</span></h2><h3 id="store-commands" class="section-heading"><a href="#store-commands" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Store Commands</span></h3><pre><code class="makeup erlang" translate="no"><span class="ss">stores</span><span class="w">              </span><span class="n">List</span><span class="w"> </span><span class="ss">all</span><span class="w"> </span><span class="ss">stores</span><span class="w">
</span><span class="ss">use</span><span class="w"> </span><span class="n">STORE</span><span class="w">           </span><span class="n">Set</span><span class="w"> </span><span class="ss">current</span><span class="w"> </span><span class="ss">store</span><span class="w"> </span><span class="ss">context</span></code></pre><p>Example session:</p><pre><code class="makeup erlang" translate="no"><span class="ss">esdb</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">stores</span><span class="w">

</span><span class="n">Stores</span><span class="p">:</span><span class="w">
  </span><span class="ss">my_store</span><span class="w">
  </span><span class="ss">another_store</span><span class="w">

</span><span class="ss">esdb</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">use</span><span class="w"> </span><span class="ss">my_store</span><span class="w">
</span><span class="n">Switched</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="nc">store</span><span class="p">:</span><span class="w"> </span><span class="ss">my_store</span><span class="w">
</span><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">&gt;</span></code></pre><h3 id="stream-commands" class="section-heading"><a href="#stream-commands" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Stream Commands</span></h3><pre><code class="makeup erlang" translate="no"><span class="ss">streams</span><span class="w">             </span><span class="n">List</span><span class="w"> </span><span class="ss">streams</span><span class="w"> </span><span class="ss">in</span><span class="w"> </span><span class="ss">current</span><span class="w"> </span><span class="ss">store</span><span class="w">
</span><span class="ss">stream</span><span class="w"> </span><span class="n">STREAM</span><span class="w">       </span><span class="n">Set</span><span class="w"> </span><span class="ss">current</span><span class="w"> </span><span class="ss">stream</span><span class="w"> </span><span class="ss">context</span><span class="w">
</span><span class="ss">read</span><span class="w"> </span><span class="p" data-group-id="7400366049-1">[</span><span class="n">N</span><span class="p" data-group-id="7400366049-1">]</span><span class="w">            </span><span class="n">Read</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="nf">events</span><span class="w"> </span><span class="p" data-group-id="7400366049-2">(</span><span class="ss">default</span><span class="w"> </span><span class="mi">10</span><span class="p" data-group-id="7400366049-2">)</span><span class="w">
</span><span class="ss">read</span><span class="w"> </span><span class="n">STREAM</span><span class="w"> </span><span class="p" data-group-id="7400366049-3">[</span><span class="n">N</span><span class="p" data-group-id="7400366049-3">]</span><span class="w">     </span><span class="n">Read</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="ss">events</span><span class="w"> </span><span class="ss">from</span><span class="w"> </span><span class="ss">stream</span><span class="w">
</span><span class="ss">version</span><span class="w">             </span><span class="n">Get</span><span class="w"> </span><span class="ss">version</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="ss">current</span><span class="w"> </span><span class="ss">stream</span><span class="w">
</span><span class="ss">version</span><span class="w"> </span><span class="n">STREAM</span><span class="w">      </span><span class="n">Get</span><span class="w"> </span><span class="ss">version</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="ss">stream</span></code></pre><p>Example session:</p><pre><code class="makeup erlang" translate="no"><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">streams</span><span class="w">

</span><span class="n">Streams</span><span class="w"> </span><span class="ss">in</span><span class="w"> </span><span class="nc">my_store</span><span class="p">:</span><span class="w">
  </span><span class="ss">orders</span><span class="w">
  </span><span class="ss">customers</span><span class="w">
  </span><span class="ss">products</span><span class="w">

</span><span class="n">Total</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="ss">streams</span><span class="w">

</span><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">stream</span><span class="w"> </span><span class="ss">orders</span><span class="w">
</span><span class="n">Switched</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="nc">stream</span><span class="p">:</span><span class="w"> </span><span class="ss">orders</span><span class="w">

</span><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">/</span><span class="ss">orders</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">read</span><span class="w"> </span><span class="mi">5</span><span class="w">

  </span><span class="p" data-group-id="1552753924-1">[</span><span class="mi">0</span><span class="p" data-group-id="1552753924-1">]</span><span class="w"> </span><span class="nc">order_created</span><span class="p">:</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">123</span><span class="w">
  </span><span class="p" data-group-id="1552753924-2">[</span><span class="mi">1</span><span class="p" data-group-id="1552753924-2">]</span><span class="w"> </span><span class="nc">order_paid</span><span class="p">:</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">124</span><span class="w">
  </span><span class="p" data-group-id="1552753924-3">[</span><span class="mi">2</span><span class="p" data-group-id="1552753924-3">]</span><span class="w"> </span><span class="nc">order_shipped</span><span class="p">:</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">125</span><span class="w">
  </span><span class="p" data-group-id="1552753924-4">[</span><span class="mi">3</span><span class="p" data-group-id="1552753924-4">]</span><span class="w"> </span><span class="nc">order_delivered</span><span class="p">:</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">126</span><span class="w">
  </span><span class="p" data-group-id="1552753924-5">[</span><span class="mi">4</span><span class="p" data-group-id="1552753924-5">]</span><span class="w"> </span><span class="nc">order_completed</span><span class="p">:</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">127</span><span class="w">

</span><span class="n">Total</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="ss">events</span><span class="w">

</span><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">/</span><span class="ss">orders</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">version</span><span class="w">
</span><span class="n">Version</span><span class="p">:</span><span class="w"> </span><span class="mi">127</span></code></pre><h3 id="causation-commands" class="section-heading"><a href="#causation-commands" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Causation Commands</span></h3><p>Causation tracking is one of the most powerful features of the REPL. It allows you to trace the lineage of events through your system.</p><p><img src="../assets/repl_causation_workflow.svg" alt="Causation Workflow"/></p><pre><code class="makeup erlang" translate="no"><span class="ss">effects</span><span class="w"> </span><span class="n">ID</span><span class="w">          </span><span class="n">Get</span><span class="w"> </span><span class="ss">events</span><span class="w"> </span><span class="ss">caused</span><span class="w"> </span><span class="ss">by</span><span class="w"> </span><span class="ss">event</span><span class="w">
</span><span class="ss">cause</span><span class="w"> </span><span class="n">ID</span><span class="w">            </span><span class="n">Get</span><span class="w"> </span><span class="ss">event</span><span class="w"> </span><span class="ss">that</span><span class="w"> </span><span class="ss">caused</span><span class="w"> </span><span class="ss">this</span><span class="w">
</span><span class="ss">chain</span><span class="w"> </span><span class="n">ID</span><span class="w">            </span><span class="n">Get</span><span class="w"> </span><span class="ss">full</span><span class="w"> </span><span class="ss">causation</span><span class="w"> </span><span class="ss">chain</span><span class="w">
</span><span class="ss">graph</span><span class="w"> </span><span class="n">ID</span><span class="w">            </span><span class="n">Build</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nb">display</span><span class="w"> </span><span class="ss">causation</span><span class="w"> </span><span class="ss">graph</span><span class="w">
</span><span class="ss">dot</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="n">FILE</span><span class="w">         </span><span class="n">Export</span><span class="w"> </span><span class="ss">graph</span><span class="w"> </span><span class="ss">as</span><span class="w"> </span><span class="n">Graphviz</span><span class="w"> </span><span class="n">DOT</span><span class="w"> </span><span class="ss">file</span></code></pre><p>Example session:</p><pre><code class="makeup erlang" translate="no"><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">effects</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">100</span><span class="w">

</span><span class="n">Events</span><span class="w"> </span><span class="ss">caused</span><span class="w"> </span><span class="ss">by</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">100</span><span class="p">:</span><span class="w">
  </span><span class="p" data-group-id="8191968970-1">[</span><span class="mi">0</span><span class="p" data-group-id="8191968970-1">]</span><span class="w"> </span><span class="nc">payment_processed</span><span class="p">:</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">101</span><span class="w">
  </span><span class="p" data-group-id="8191968970-2">[</span><span class="mi">1</span><span class="p" data-group-id="8191968970-2">]</span><span class="w"> </span><span class="nc">inventory_reserved</span><span class="p">:</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">102</span><span class="w">

</span><span class="n">Total</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ss">effects</span><span class="w">

</span><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">chain</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">105</span><span class="w">

</span><span class="n">Causation</span><span class="w"> </span><span class="ss">chain</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">105</span><span class="p">:</span><span class="w">
  </span><span class="p" data-group-id="8191968970-3">[</span><span class="mi">1</span><span class="p" data-group-id="8191968970-3">]</span><span class="w"> </span><span class="nf">order_created</span><span class="w"> </span><span class="p" data-group-id="8191968970-4">(</span><span class="ss">evt</span><span class="o">-</span><span class="mi">100</span><span class="p" data-group-id="8191968970-4">)</span><span class="w">
  </span><span class="p">-&gt;</span><span class="w"> </span><span class="p" data-group-id="8191968970-5">[</span><span class="mi">2</span><span class="p" data-group-id="8191968970-5">]</span><span class="w"> </span><span class="nf">payment_processed</span><span class="w"> </span><span class="p" data-group-id="8191968970-6">(</span><span class="ss">evt</span><span class="o">-</span><span class="mi">101</span><span class="p" data-group-id="8191968970-6">)</span><span class="w">
  </span><span class="p">-&gt;</span><span class="w"> </span><span class="p" data-group-id="8191968970-7">[</span><span class="mi">3</span><span class="p" data-group-id="8191968970-7">]</span><span class="w"> </span><span class="nf">inventory_reserved</span><span class="w"> </span><span class="p" data-group-id="8191968970-8">(</span><span class="ss">evt</span><span class="o">-</span><span class="mi">102</span><span class="p" data-group-id="8191968970-8">)</span><span class="w">
  </span><span class="p">-&gt;</span><span class="w"> </span><span class="p" data-group-id="8191968970-9">[</span><span class="mi">4</span><span class="p" data-group-id="8191968970-9">]</span><span class="w"> </span><span class="nf">order_shipped</span><span class="w"> </span><span class="p" data-group-id="8191968970-10">(</span><span class="ss">evt</span><span class="o">-</span><span class="mi">104</span><span class="p" data-group-id="8191968970-10">)</span><span class="w">
  </span><span class="p">-&gt;</span><span class="w"> </span><span class="p" data-group-id="8191968970-11">[</span><span class="mi">5</span><span class="p" data-group-id="8191968970-11">]</span><span class="w"> </span><span class="nf">delivery_scheduled</span><span class="w"> </span><span class="p" data-group-id="8191968970-12">(</span><span class="ss">evt</span><span class="o">-</span><span class="mi">105</span><span class="p" data-group-id="8191968970-12">)</span><span class="w">

</span><span class="n">Chain</span><span class="w"> </span><span class="nc">length</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">

</span><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">dot</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">100</span><span class="w"> </span><span class="o">/</span><span class="ss">tmp</span><span class="o">/</span><span class="ss">causation</span><span class="p">.</span><span class="ss">dot</span><span class="w">
</span><span class="n">DOT</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="ss">written</span><span class="w"> </span><span class="nc">to</span><span class="p">:</span><span class="w"> </span><span class="o">/</span><span class="ss">tmp</span><span class="o">/</span><span class="ss">causation</span><span class="p">.</span><span class="ss">dot</span></code></pre><p>To visualize the DOT file:</p><pre><code class="makeup bash" translate="no"><span class="">dot -Tpng /tmp/causation.dot -o /tmp/causation.png
</span></code></pre><h3 id="temporal-commands" class="section-heading"><a href="#temporal-commands" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Temporal Commands</span></h3><pre><code class="makeup erlang" translate="no"><span class="ss">until</span><span class="w"> </span><span class="n">TS</span><span class="w">            </span><span class="n">Read</span><span class="w"> </span><span class="ss">events</span><span class="w"> </span><span class="ss">until</span><span class="w"> </span><span class="ss">timestamp</span><span class="w">
</span><span class="ss">range</span><span class="w"> </span><span class="n">T1</span><span class="w"> </span><span class="n">T2</span><span class="w">         </span><span class="n">Read</span><span class="w"> </span><span class="ss">events</span><span class="w"> </span><span class="ss">in</span><span class="w"> </span><span class="ss">time</span><span class="w"> </span><span class="ss">range</span></code></pre><p>Timestamps are Unix epoch in seconds.</p><p>Example session:</p><pre><code class="makeup erlang" translate="no"><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">/</span><span class="ss">orders</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">until</span><span class="w"> </span><span class="mi">1703200000</span><span class="w">

</span><span class="n">Events</span><span class="w"> </span><span class="ss">until</span><span class="w"> </span><span class="mi">1703200000</span><span class="p">:</span><span class="w">
  </span><span class="p" data-group-id="5465297833-1">[</span><span class="mi">0</span><span class="p" data-group-id="5465297833-1">]</span><span class="w"> </span><span class="nc">order_created</span><span class="p">:</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">123</span><span class="w">
  </span><span class="p" data-group-id="5465297833-2">[</span><span class="mi">1</span><span class="p" data-group-id="5465297833-2">]</span><span class="w"> </span><span class="nc">order_paid</span><span class="p">:</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">124</span><span class="w">

</span><span class="n">Total</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ss">events</span><span class="w">

</span><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">/</span><span class="ss">orders</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">range</span><span class="w"> </span><span class="mi">1703100000</span><span class="w"> </span><span class="mi">1703200000</span><span class="w">

</span><span class="n">Events</span><span class="w"> </span><span class="ss">from</span><span class="w"> </span><span class="mi">1703100000</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="mi">1703200000</span><span class="p">:</span><span class="w">
  </span><span class="p" data-group-id="5465297833-3">[</span><span class="mi">0</span><span class="p" data-group-id="5465297833-3">]</span><span class="w"> </span><span class="nc">order_created</span><span class="p">:</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">123</span><span class="w">
  </span><span class="p" data-group-id="5465297833-4">[</span><span class="mi">1</span><span class="p" data-group-id="5465297833-4">]</span><span class="w"> </span><span class="nc">order_paid</span><span class="p">:</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">124</span><span class="w">
  </span><span class="p" data-group-id="5465297833-5">[</span><span class="mi">2</span><span class="p" data-group-id="5465297833-5">]</span><span class="w"> </span><span class="nc">order_shipped</span><span class="p">:</span><span class="w"> </span><span class="ss">evt</span><span class="o">-</span><span class="mi">125</span><span class="w">

</span><span class="n">Total</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="ss">events</span></code></pre><h3 id="schema-commands" class="section-heading"><a href="#schema-commands" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Schema Commands</span></h3><pre><code class="makeup erlang" translate="no"><span class="ss">schemas</span><span class="w">             </span><span class="n">List</span><span class="w"> </span><span class="ss">all</span><span class="w"> </span><span class="ss">schemas</span><span class="w">
</span><span class="ss">schema</span><span class="w"> </span><span class="n">TYPE</span><span class="w">         </span><span class="n">Get</span><span class="w"> </span><span class="ss">schema</span><span class="w"> </span><span class="ss">for</span><span class="w"> </span><span class="ss">event</span><span class="w"> </span><span class="ss">type</span></code></pre><h3 id="subscription-commands" class="section-heading"><a href="#subscription-commands" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Subscription Commands</span></h3><pre><code class="makeup erlang" translate="no"><span class="ss">subscriptions</span><span class="w">       </span><span class="n">List</span><span class="w"> </span><span class="ss">all</span><span class="w"> </span><span class="ss">subscriptions</span><span class="w">
</span><span class="ss">subscription</span><span class="w"> </span><span class="n">NAME</span><span class="w">   </span><span class="n">Get</span><span class="w"> </span><span class="ss">subscription</span><span class="w"> </span><span class="ss">details</span></code></pre><h3 id="health-commands" class="section-heading"><a href="#health-commands" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Health Commands</span></h3><pre><code class="makeup erlang" translate="no"><span class="ss">health</span><span class="w">              </span><span class="n">Gateway</span><span class="w"> </span><span class="ss">health</span><span class="w"> </span><span class="ss">status</span><span class="w">
</span><span class="nb">memory</span><span class="w">              </span><span class="n">Memory</span><span class="w"> </span><span class="nb">statistics</span><span class="w"> </span><span class="ss">for</span><span class="w"> </span><span class="ss">current</span><span class="w"> </span><span class="ss">store</span></code></pre><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="ss">esdb</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">health</span><span class="w">

</span><span class="n">Gateway</span><span class="w"> </span><span class="n">Health</span><span class="p">:</span><span class="w">
  </span><span class="nc">status</span><span class="p">:</span><span class="w"> </span><span class="ss">healthy</span><span class="w">
  </span><span class="nc">stores</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="6338331372-1">#{</span><span class="ss">my_store</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="ss">another_store</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="6338331372-1">}</span><span class="w">
  </span><span class="nc">total_workers</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
  </span><span class="nc">node</span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;node1@localhost&#39;</span><span class="w">
  </span><span class="nc">timestamp</span><span class="p">:</span><span class="w"> </span><span class="mi">1703234567890</span></code></pre><h2 id="prompt-format" class="section-heading"><a href="#prompt-format" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Prompt Format</span></h2><p>The prompt shows your current context:</p><pre><code class="makeup erlang" translate="no"><span class="ss">esdb</span><span class="o">&gt;</span><span class="w">                           </span><span class="p">#</span><span class="w"> </span><span class="n">No</span><span class="w"> </span><span class="ss">store</span><span class="w"> </span><span class="ss">selected</span><span class="w">
</span><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">&gt;</span><span class="w">                  </span><span class="p">#</span><span class="w"> </span><span class="n">Store</span><span class="w"> </span><span class="ss">selected</span><span class="w">
</span><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">/</span><span class="ss">orders</span><span class="o">&gt;</span><span class="w">           </span><span class="p">#</span><span class="w"> </span><span class="n">Store</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">stream</span><span class="w"> </span><span class="ss">selected</span></code></pre><h2 id="tips" class="section-heading"><a href="#tips" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tips</span></h2><ol><li><p><strong>Tab completion</strong>: Not supported yet, but coming in a future release.</p></li><li><p><strong>History</strong>: Use up/down arrows if your shell supports it (depends on terminal).</p></li><li><p><strong>Batch operations</strong>: For bulk operations, use the <code class="inline">esdb_gater_api</code> module directly instead of the REPL.</p></li><li><p><strong>DOT files</strong>: The <code class="inline">dot</code> command generates Graphviz DOT format, which can be converted to PNG, SVG, or PDF using the <code class="inline">dot</code> command-line tool.</p></li></ol><h2 id="use-cases" class="section-heading"><a href="#use-cases" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Use Cases</span></h2><h3 id="debugging-event-flows" class="section-heading"><a href="#debugging-event-flows" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Debugging Event Flows</span></h3><p>When an event causes unexpected behavior, use causation commands to trace its origin:</p><pre><code class="makeup erlang" translate="no"><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">chain</span><span class="w"> </span><span class="ss">problematic</span><span class="o">-</span><span class="ss">event</span><span class="o">-</span><span class="ss">id</span></code></pre><p>This shows the full chain of events that led to the problematic event, helping identify where things went wrong.</p><h3 id="investigating-time-based-issues" class="section-heading"><a href="#investigating-time-based-issues" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Investigating Time-Based Issues</span></h3><p>For issues that occurred at a specific time, use temporal queries:</p><pre><code class="makeup erlang" translate="no"><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">/</span><span class="ss">orders</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">range</span><span class="w"> </span><span class="mi">1703100000</span><span class="w"> </span><span class="mi">1703110000</span></code></pre><p>This shows all events in the orders stream during that 10-second window.</p><h3 id="exporting-visualizations" class="section-heading"><a href="#exporting-visualizations" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Exporting Visualizations</span></h3><p>Generate DOT files for documentation or sharing:</p><pre><code class="makeup erlang" translate="no"><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">dot</span><span class="w"> </span><span class="ss">correlation</span><span class="o">-</span><span class="ss">id</span><span class="o">-</span><span class="mi">123</span><span class="w"> </span><span class="o">/</span><span class="ss">tmp</span><span class="o">/</span><span class="ss">saga</span><span class="o">-</span><span class="ss">flow</span><span class="p">.</span><span class="ss">dot</span></code></pre><p>Then convert to various formats:</p><pre><code class="makeup bash" translate="no"><span class=""># PNG image
</span><span class="">dot -Tpng /tmp/saga-flow.dot -o /tmp/saga-flow.png
</span><span class="">
</span><span class=""># SVG (scalable)
</span><span class="">dot -Tsvg /tmp/saga-flow.dot -o /tmp/saga-flow.svg
</span><span class="">
</span><span class=""># PDF document
</span><span class="">dot -Tpdf /tmp/saga-flow.dot -o /tmp/saga-flow.pdf
</span></code></pre><h3 id="monitoring-health" class="section-heading"><a href="#monitoring-health" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Monitoring Health</span></h3><p>Quick health check of the gateway:</p><pre><code class="makeup erlang" translate="no"><span class="ss">esdb</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">health</span></code></pre><p>Check memory pressure for a specific store:</p><pre><code class="makeup erlang" translate="no"><span class="nc">esdb</span><span class="p">:</span><span class="ss">my_store</span><span class="o">&gt;</span><span class="w"> </span><span class="nb">memory</span></code></pre><h2 id="integration-with-development-workflow" class="section-heading"><a href="#integration-with-development-workflow" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Integration with Development Workflow</span></h2><p>The REPL is designed to fit into your development workflow:</p><ol><li><strong>During Development</strong>: Quickly verify events are being stored correctly</li><li><strong>Debugging</strong>: Trace causation chains to understand event flow</li><li><strong>Documentation</strong>: Export graphs for architecture documentation</li><li><strong>Monitoring</strong>: Check health and memory status</li></ol><h2 id="exit" class="section-heading"><a href="#exit" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Exit</span></h2><p>Use any of these commands to exit:</p><pre><code class="makeup erlang" translate="no"><span class="nb">exit</span><span class="w">
</span><span class="ss">quit</span><span class="w">
</span><span class="ss">q</span></code></pre><p>Or press <code class="inline">Ctrl+D</code> (EOF).</p><h2 id="see-also" class="section-heading"><a href="#see-also" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">See Also</span></h2><ul><li><a href="causation.html">Causation Tracking</a> - Deep dive into causation concepts</li><li><a href="temporal_queries.html">Temporal Queries</a> - Time-based query patterns</li><li><a href="event_sourcing.html">Event Sourcing</a> - Core event sourcing patterns</li></ul>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="cqrs.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
CQRS
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="subscriptions.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Subscriptions
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/reckon_gater/1.0.2" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/reckon_gater/1.0.2">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/reckon_gater/1.0.2/show/guides/repl.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="reckon_gater.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.2) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
